<!DOCTYPE html>
<html>
<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/cloudinary-core/2.14.0/cloudinary-core-shrinkwrap.min.js"></script>
</head>
<body>
  <input type="file" id="fileInput" accept="image/*">
  <button id="uploadButton">Tải lên</button>
  <div id="result"></div>

  <script>
    // Thay thế bằng thông tin xác thực của bạn
    var cloudName = 'your_cloud_name';
    var apiKey = '139815731139365';
    var apiSecret = 'd0C4CRzPiZgEOSfOovNasf-bSSk';
    var uploadPreset = 'ml_default'; // Thay thế bằng upload preset của bạn

    var widget = cloudinary.createUploadWidget({
      cloudName: cloudName,
      uploadPreset: uploadPreset,
      apiKey: apiKey,
      apiSecret: apiSecret,
      sources: ['local', 'url', 'image_search'],
      uploadSignature: { apiKey: apiKey },
      multiple: false,
      maxFileSize: 15000000,
      resourceType: 'image',
    }, (error, result) => {
      if (!error && result && result.event === 'success') {
        // Ảnh đã tải lên thành công
        var img = document.createElement('img');
        img.src = result.info.secure_url;
        var resultContainer = document.getElementById('result');
        resultContainer.innerHTML = '';
        resultContainer.appendChild(img);
      }
    });

    document.getElementById('uploadButton').addEventListener('click', function () {
      widget.open();
    });
  </script>
</body>
</html>
