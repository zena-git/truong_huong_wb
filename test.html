<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload ảnh lên Cloudinary</title>
    <style>

body {
    font-family: Arial, sans-serif;
}

#imageContainer {
    margin-top: 20px;
}

img {
    max-width: 100%;
    height: auto;
}

    </style>
</head>
<body>
    <input type="file" id="fileInput">
    <button id="uploadButton">Tải lên</button>
    <div id="imageContainer"></div>
    <script>
      const CLOUD_NAME = "dgxbxvkso";
const UPLOAD_PRESET = "upload_truonghuong";
const API_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`;

// Lấy đối tượng input file và theo dõi sự kiện thay đổi
const fileInput = document.getElementById("fileInput");
fileInput.addEventListener("change", function () {
  const file = fileInput.files[0];
  
  // Tạo một đối tượng FormData để chứa dữ liệu tệp
  const formData = new FormData();
  formData.append("file", file);
  formData.append("upload_preset", UPLOAD_PRESET);

  // Tạo yêu cầu XMLHttpRequest
  const xhr = new XMLHttpRequest();
  xhr.open("POST", API_URL, true);

  // Xác định hành động sau khi tải lên thành công
  xhr.onload = function () {
    if (xhr.status === 200) {
      const response = JSON.parse(xhr.responseText);
      console.log("Tải lên thành công:", response);
      // Ở đây, bạn có thể lấy URL của ảnh từ response và làm gì bạn muốn với nó
    } else {
      console.error("Lỗi khi tải lên:", xhr.statusText);
    }
  };

  // Gửi yêu cầu tải lên
  xhr.send(formData);
});


    </script>
</html>
